<Window x:Class="LLMChat.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:mdxam="clr-namespace:MdXaml;assembly=MdXaml"
        Title="LLM Chat" Height="650" Width="800">
    <Grid Margin="10">
        <TabControl>
            <!-- チャット画面 -->
            <TabItem Header="チャット">
                <StackPanel Margin="10">
                    <TextBox x:Name="InputTextBox" Height="30" Margin="0,0,0,10" />
                    <Button x:Name="SendButton" Content="送信" Height="30" Click="SendButton_Click" />
                    <mdxam:MarkdownScrollViewer x:Name="MarkdownViewer"
                                                Grid.Row="2"
                                                Margin="10, 30, 10, 10"
                                                VerticalScrollBarVisibility="Auto"
                                                FontSize="14"
                                                FontFamily="Consolas"
                                                Markdown="{Binding MarkdownText}"
                                                MaxHeight="440" 
                    />
                </StackPanel>
            </TabItem>

            <!-- 履歴表示 -->
            <TabItem Header="履歴">
                <DataGrid x:Name="ChatDataGrid"
                          AutoGenerateColumns="False"
                          VerticalScrollBarVisibility="Auto"
                          Margin="10">
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="日時" Binding="{Binding Timestamp}" Width="150"/>
                        <DataGridTextColumn Header="ユーザー" Binding="{Binding UserMessage}" Width="*"/>
                    </DataGrid.Columns>
                </DataGrid>
            </TabItem>
        </TabControl>
    </Grid>
</Window>